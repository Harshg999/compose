
<script src="https://unpkg.com/axios@0.21.1/dist/axios.min.js"></script>

<script type="text/javascript">
  const API_URL = "http://localhost:8000";
  axios.defaults.baseURL = API_URL;

  axios.post('v1/iam/get/auth-token/', {username: "hue", password: "hue"}).then(function(data) {
    console.log(data['data']);

    // Util to check if cached token is still valid before asking to auth for a new one
    axios.post('v1/iam/verify/auth-token/', {token: data['data']['token']});

    axios.defaults.headers.common['Authorization'] = 'JWT ' + data['data']['token'];
  }).then(function() {
    axios.post('/v1/editor/query/sqlite', {snippet: "{\"statement\":\"SELECT 1000, 1001\""}).then(function(data) {
      console.log(data['data']);
    });
  });

</script>


<!--
  SQL Scratchpad
-->
